/* eslint-disable */

// This file was automatically generated by @icp-sdk/bindgen.
// You should NOT make any changes in this file as it will be overwritten.
// Additionally, you should also exclude this file from your linter and/or formatter to prevent it from being checked or modified.

import {
  Actor,
  HttpAgent,
  type Agent,
  type HttpAgentOptions,
  type ActorConfig,
} from "@icp-sdk/core/agent";
import { type _SERVICE, idlFactory } from "./declarations/example.did";
import { Example, type ProcessErrorFn } from "./example";

export interface CreateActorOptions {
  /**
   * @see {@link Agent}
   */
  agent?: Agent;
  /**
   * @see {@link HttpAgentOptions}
   */
  agentOptions?: HttpAgentOptions;
  /**
   * @see {@link ActorConfig}
   */
  actorOptions?: ActorConfig;
}

export function createActor(
  canisterId: string,
  options: CreateActorOptions = {},
  processError?: ProcessErrorFn
): Example {
  const agent =
    options.agent || HttpAgent.createSync({ ...options.agentOptions });

  if (options.agent && options.agentOptions) {
    console.warn(
      "Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."
    );
  }

  // Creates an actor with using the candid interface and the HttpAgent
  const actor = Actor.createActor<_SERVICE>(idlFactory, {
    agent,
    canisterId,
    ...options.actorOptions,
  });

  return new Example(actor, processError);
}
